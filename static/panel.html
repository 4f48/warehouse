<!--
  Copyright (C) 2024 Oliver Pirger <0x4f48@proton.me>

  This file is part of Warehouse.

  Warehouse is free software: you can redistribute it and/or modify it under the terms of
  the GNU Affero General Public License as published by the Free Software Foundation,
  version 3 of the License only.

  Warehouse is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  See the GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with Warehouse. If not, see <https://www.gnu.org/licenses/>.
-->

<!doctype html>
<html lang="en">
  <head>
    <title>warehouse</title>
    <link rel="icon" type="svg+xml" href="/artifacts/favicon.svg" />
    <link rel="stylesheet" href="/artifacts/style.css" />
  </head>
  <body>
    <header>
      <button id="key">warehouse</button>
      <button id="upload">upload</button>
      <button id="download">download</button>
      <button id="delete">delete</button>
    </header>
    <main class="active" id="key">
      <form class="key" id="key">
        <label for="key" title="base64 encoded secret key found in objects/.key"
          >Secret key</label
        >
        <input name="key" id="key" placeholder="SSBsb3ZlIHlvdSA8Mw..." />
        <button type="submit">Save</button>
        <p id="keyError"></p>
        <a
          class="source"
          target="_blank"
          href="https://github.com/4f48/warehouse"
          >Source code</a
        >
      </form>
    </main>
    <main id="upload">
      <form class="upload" enctype="multipart/form-data" id="upload">
        <input id="file" name="file" required type="file" />
        <label for="file" id="drop">
          <div class="contents">
            <span>Drop file here or</span>
            <span class="button">choose file</span>
          </div>
          <div class="filename">
            <p id="filename">h</p>
          </div>
        </label>
        <button id="submit" type="submit">Upload</button>
        <p class="response" id="response"></p>
      </form>
    </main>
    <main id="download">
      <form class="download" id="download">
        <label for="hash" title="BLAKE3 hash of the file contents"
          >File hash</label
        >
        <input name="hash" id="hash" placeholder="SSBsb3ZlIHlvdSA8Mw..." />
        <button type="submit">Download</button>
        <p id="downloadError"></p>
      </form>
    </main>
    <main id="delete">
      <form class="delete" id="delete">
        <label for="hash" title="BLAKE3 hash of the file contents"
          >File hash</label
        >
        <input name="hash" id="hash" placeholder="SSBsb3ZlIHlvdSA8Mw..." />
        <button type="submit">Delete</button>
        <p id="deleteError"></p>
      </form>
    </main>
    <script src="/artifacts/index.js"></script>
  </body>
</html>
